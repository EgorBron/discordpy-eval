# Команда eval для discord.py

## Особенности:
- Асинхронное выполнение кода
- "Компактный" вывод входных и выходных данных, а так же счёт времени выполнения/ошибки

## Требования:
- Python 3.6 и выше

## Использование:
### Для начала нужно настроить бота [здесь](https://discord.com/developers/applications)
Нажимаем на кнопку "New Application" справа сверху, придумываем нашему **приложению** название и нажимаем "Create" (окно может немного отличаться). 
*Можно использовать и уже созданное приложение*

![Создаём приложение, окно может немного отличаться](https://cdn.discordapp.com/attachments/859866304395608154/874737298875502632/unknown.png)

Далее переходим на вкладку "Bot", нажимаем "Add Bot", подтверждаем
![Добавляем бота к приложению](https://cdn.discordapp.com/attachments/859866304395608154/874738037878325298/unknown.png)

Копируем токен куда-нибудь при помощии соответствующей кнопки:

![Копируем токен](https://cdn.discordapp.com/attachments/859866304395608154/874739131018792980/unknown.png)

...и ниже включаем эти параметры под заголовком "Priveleged Gateway Intents":

![Интенты и их включение](https://cdn.discordapp.com/attachments/859866304395608154/874740073139171408/unknown.png)

Не забудьте сохраниться!

Пригласим бота на сервер с помощью вкладки OAuth2: перейдём в неё и в поле Scopes выберем "Bot". Ниже появилось ещё одно поле, где мы выбираем только Administrator. Выше появилась ссылка, на которую мы переходим и, как мы это обычно делаем, добавляем бота
![Генерация ссылки-приглашения](https://cdn.discordapp.com/attachments/859866304395608154/874742022110605402/unknown.png)
![Приглашение](https://cdn.discordapp.com/attachments/859866304395608154/874742612307898398/unknown.png)

Можно закрыть браузер

### Установка
Для начала откроем консоль и напишем:
На Windows:
```batch
pip install discord
pip install aeval
```

(можете добавить перед каждым 'pip' python -m)

На Linux/Mac OS:
```bash
pip3 install discord
pip3 install aeval
```
Теперь скачайте файл eval.py (в нём всё подробно расписано), вставьте токен в bot.run (самый конец файла), через ту же консоль перейдите в папку, куда вы его скачали и запустите (просто написав eval.py, или добавив в начало py/python/python3)

## Примеры
### Выполнение кода и его "красивый" вывод
Здесь показан вывод информации о выполненном коде (время, данные на вход, объект из последней сточки) на примере функции для рассчёта значения дискриминанта. Так же тут используется блок кода Markdown, который просто делает сообщение красивым, не мешая работе кода

![Пример 1](https://cdn.discordapp.com/attachments/859866304395608154/874943327185817620/Screenshot_122.png)

### Выполнение кода без вывода в чат
Добавив в начале кода `#nooutput`, вы получите вывод из последней строки только в консоли. Тихо и незаметно :)

![Пример 2](https://cdn.discordapp.com/attachments/859866304395608154/874943326741217290/Screenshot_123.png)

### Выполнение кода, ввод/вывод которого превышает 1024 символа
У полей эмбедов (Embed, те самы красивые рамочки) есть ограничение на количество символов в них (256 на заголовок и 1024 на содержимое). Здесь, чтобы хотя бы часть вывода отправлялась, данные отправляются по 900 символов, полностью же он будет в консоли

![Пример 3](https://cdn.discordapp.com/attachments/859866304395608154/874943328477650984/Screenshot_124.png)

### Вывод ошибок
Тут всё аналогично прошлым примерам - ошибка выведется и в чате (если нет `#nooutput` вначале), и в консоли

![Пример 4](https://cdn.discordapp.com/attachments/859866304395608154/874949083004010526/unknown.png)

## Остались вопросы? Пишите в Discord - Егор Брон#3443, отвечу!
